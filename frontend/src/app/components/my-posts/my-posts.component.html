
<div class="my-posts-container">
    <h2>my posts</h2>
    @if(this.message!=""){
    <h3>{{message}}</h3>
}

    @if(posts && posts.length > 0) {
        @for(post of posts; track post.id){
            <div class="post-card">
                <h3>{{ post.name }}</h3>
                
                <img 
                    [src]="'data:image/jpeg;base64,' + post.photoPath" 
                    alt="תמונת כריכה של הפוסט" 
                    width="300" 
                    style="height:auto; border-radius: 8px;" 
                />

                <div class="post-actions">
                    <button (click)="updatePost(post.id)">update post</button>
                    <button (click)="goToPost(post.id)">enter to full post</button>
                    <button (click)="deletePost(post.id)">delete post</button>
                    
                    @if(postIdToDelete === post.id){
                        <div class="confirm-delete">
                            <p>are you sure you want to delete this post?</p>
                            <button (click)="okDeletePost(post.id)">yes</button>
                            <button (click)="cancelDelete()">no</button>
                        </div>
                    }
                </div>
            </div>
        }
    } @else if (posts) {
        <p class="no-posts-message">לא נמצאו פוסטים להצגה עבור משתמש זה.</p>
    } @else {
        <p class="loading-message">טוען פוסטים...</p>
    }
</div>